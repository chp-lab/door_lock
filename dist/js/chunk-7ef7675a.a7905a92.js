(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7ef7675a"],{"2a59":function(t,e,n){},5529:function(t,e,n){"use strict";n("2a59")},"8ca3":function(t,e,n){"use strict";n("a5245")},a5245:function(t,e,n){},d755:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("a-card",{},[n("v-row",{attrs:{align:"center",justify:"center"}},[n("v-col",{staticClass:"pt-3 pt-0 pb-0",attrs:{cols:"9",align:"left"}},[n("p",[t._v("ปฏิทินการประชุมของท่าน")])]),n("v-col",{staticClass:"mb-1 pt-0 pb-0",attrs:{cols:"3",align:"right"}},[n("a-icon",{attrs:{type:"snippets"}})],1)],1)],1),n("v-row",{staticClass:"pt-3 pb-1 pt-0 pb-0"},[n("v-col",{},[n("a-alert",{attrs:{type:"info","show-icon":"",description:"ท่านสามารถกดวันที่ในปฏิทิน เพื่อดูการประชุมของท่าน"}})],1)],1),n("a-spin",{attrs:{spinning:t.spinning}},[n("div",{staticClass:"spin-content"},[n("div",{staticClass:"mt-2 mb-1",staticStyle:{border:"1px solid #d9d9d9","border-radius":"4px"}},[n("a-calendar",{attrs:{fullscreen:!1,"header-render":t.headerRender,"disabled-date":t.disabledDate,format:"DD-MM-YYYY"},on:{select:t.onSelect,panelChange:t.onPanelChange},scopedSlots:t._u([{key:"dateCellRender",fn:function(e){return n("ul",{staticClass:"events"},t._l(t.getListData(e),(function(t){return n("li",{key:t.content},[n("a-icon",{style:{color:t.theme_color},attrs:{theme:"filled",type:t.type}})],1)})),0)}}])})],1)])]),n("DialogShowMeetingPerson",{ref:"DialogShowMeetingPerson"}),n("DialogAddMeeting",{ref:"DialogAddMeeting",on:{API_GetBookingCalendarUser:t.API_GetBookingCalendarUser}})],1)},o=[],s=(n("fb6a"),n("d3b7"),n("25f0"),n("96cf"),n("1da1")),i=n("b85c"),r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("a-modal",{attrs:{title:"ข้อมูลการประชุมของท่าน",centered:""},model:{value:t.DialogShowMeetingPerson,callback:function(e){t.DialogShowMeetingPerson=e},expression:"DialogShowMeetingPerson"}},[n("a-spin",{attrs:{spinning:t.spinning}},[n("div",[n("v-row",{staticClass:"pt-3 pb-1 pt-0 pb-0"},[n("v-col",{},[n("a-alert",{attrs:{type:"success",description:this.convert_DateCendar}})],1)],1),n("a-empty",{directives:[{name:"show",rawName:"v-show",value:1==this.empty_data,expression:"this.empty_data == true"}],staticStyle:{"margin-top":"20px"}},[n("span",{attrs:{slot:"description"},slot:"description"},[t._v(" ท่านไม่มีประชุมในวันนี้ ")])]),t._l(this.data_list,(function(e){return n("v-row",{key:e,staticClass:"pt-5",attrs:{align:"center",justify:"center"}},[n("v-col",{staticClass:"pa-0"},[n("a-card",[n("a-timeline",[n("a-timeline-item",{attrs:{color:"green"}},[n("a-icon",{staticClass:"pr-5",staticStyle:{"font-size":"18px"},attrs:{slot:"dot",type:"solution"},slot:"dot"}),t._v(" "+t._s("หัวข้อประชุม : "+e.agenda)+" ")],1),n("a-timeline-item",{attrs:{color:"red"}},[n("a-icon",{staticStyle:{"font-size":"18px"},attrs:{slot:"dot",type:"calendar"},slot:"dot"}),t._v(" "+t._s(t.parseToDateFormat(e.meeting_start))+" ")],1),n("a-timeline-item",{attrs:{color:"pink"}},[n("a-icon",{staticStyle:{"font-size":"18px"},attrs:{slot:"dot",type:"bank"},slot:"dot"}),t._v(" "+t._s("ห้องประชุมที่ : "+e.room_num)+" ")],1),n("a-timeline-item",{attrs:{color:"blue"}},[n("a-icon",{staticStyle:{"font-size":"18px"},attrs:{slot:"dot",type:"clock-circle-o"},slot:"dot"}),t._v(" "+t._s(t.parseToTimeFormat(e.meeting_start,e.meeting_end))+" ")],1),n("a-timeline-item",{attrs:{color:"red"}},[n("a-icon",{staticStyle:{"font-size":"18px"},attrs:{slot:"dot",type:"team"},slot:"dot"}),n("p",[t._v("ผู้ร่วมประชุม :")]),n("div",[n("a-tag",{staticClass:"mt-2",attrs:{color:"blue"}},[t._v(" "+t._s(e.one_email)+" ")])],1),t._l(e.guest_email,(function(e){return n("div",{key:e},[n("a-tag",{staticClass:"mt-2",attrs:{color:"blue"}},[t._v(" "+t._s(e)+" ")])],1)}))],2)],1)],1)],1)],1)}))],2)]),n("template",{slot:"footer"},[n("a-button",{key:"back",attrs:{type:"primary"},on:{click:function(e){return t.closeDialogShowMeetingPerson()}}},[t._v(" ปิด ")])],1)],2),n("a-modal",{attrs:{centered:"",footer:null},model:{value:t.status_500,callback:function(e){t.status_500=e},expression:"status_500"}},[n("a-result",{attrs:{status:"500",title:"500","sub-title":"Sorry, the server is wrong."},scopedSlots:t._u([{key:"extra",fn:function(){},proxy:!0}])})],1),n("ModalStatuscode",{ref:"ModalStatuscode"})],1)},l=[],c=(n("ac1f"),n("1276"),n("03ca")),u={components:{ModalStatuscode:c["a"]},data:function(){return{DialogShowMeetingPerson:!1,convert_DateCendar:null,select_date_calender:null,spinning:!1,user_login:"",data_list:null,empty_data:!1,status_500:!1,email_user:""}},created:function(){},methods:{open:function(t){this.select_date_calender=t,console.log(t);var e=t.slice(8,10),n=t.slice(5,7),a=t.slice(0,4);this.convert_DateCendar="วันที่ "+e+"-"+n+"-"+a,this.API_ShowBookingUser(t),this.DialogShowMeetingPerson=!0},cleanSpinning:function(){this.spinning=!1},closeDialogShowMeetingPerson:function(){this.DialogShowMeetingPerson=!1},parseToDateFormat:function(t){var e=t.split(" ")[0].split("-");return"วันที่ : "+e[2]+" - "+e[1]+" - "+e[0]},parseToTimeFormat:function(t,e){var n=t.split(" ")[1].split(":")[0],a=t.split(" ")[1].split(":")[1],o=e.split(" ")[1].split(":")[0],s=e.split(" ")[1].split(":")[1];return"เวลา : "+n+":"+a+" - "+o+":"+s+" น."},API_ShowBookingUser:function(t){var e=this;this.spinning=!0,this.empty_data=!1;var n="";this.axios({method:"GET",url:this.$store.state.url_get_API_axios+"api/v1/bookingTable/"+this.$store.state.email_User+"/time/"+t,headers:{Authorization:this.$store.state.token_user}}).then((function(t){console.log(t),console.log(t.data);var n=t.data;"success"==n.Status?(e.data_list=n.Value,e.cleanSpinning(),0===n.Value.length&&(e.empty_data=!0,e.data_list=[],e.cleanSpinning())):(e.$error({centered:!0,title:"ไม่พบข้อมูล",content:"กรุณาตรวจสอบข้อมูล"}),e.cleanSpinning())})).catch((function(t){console.log(t.message),e.cleanSpinning(),"Request failed with status code 400"==t.message?e.Model_countDown_error(t.message):"Request failed with status code 401"==t.message?e.$refs.ModalStatuscode.open_dialog401():"Request failed with status code 404"==t.message?e.$refs.ModalStatuscode.open_dialog404():"Request failed with status code 500"==t.message?e.$refs.ModalStatuscode.open_dialog500():(n="error",e.Model_countDown_error(n))}))},Model_countDown_error:function(t){if("Request failed with status code 400"==t){var e=3,n=this.$error({title:"กรุณากรอกข้อมูลให้ครบถ้วน",content:"เนื่องจากกรอกข้อมูลไม่ครบถ้วน",centered:!0}),a=setInterval((function(){e-=1,n.update({content:"เนื่องจากกรอกข้อมูลไม่ครบถ้วน"})}),1e3);setTimeout((function(){clearInterval(a),n.destroy()}),1e3*e)}else{var o=3,s=this.$error({title:"เกิดข้อผิดพลาด",content:"ไม่สามารถใช้งานได้",centered:!0}),i=setInterval((function(){o-=1,s.update({content:"ไม่สามารถใช้งานได้"})}),1e3);setTimeout((function(){clearInterval(i),s.destroy()}),1e3*o)}}}},d=u,g=(n("5529"),n("2877")),p=n("6544"),h=n.n(p),_=n("62ad"),f=n("0fd9"),m=Object(g["a"])(d,r,l,!1,null,"12d5f7d4",null),v=m.exports;h()(m,{VCol:_["a"],VRow:f["a"]});var w=n("1b5b"),y=n("c1df"),S=n.n(y),b={components:{DialogShowMeetingPerson:v,DialogAddMeeting:w["a"]},data:function(){return{format:"YYYY-MM-DD",day_event_calendar:null,user_login:"",email_user:"",List_booking_user:null,spinning:!1,Date_now:null,Month_now:null,value_test:""}},created:function(){this.getMonthNow(),this.API_GetBookingCalendarUser()},methods:{moment:S.a,onSelect:function(t){if(null!=t){var e=JSON.stringify(t);this.OpenDialogShowMeetingPerson(e)}else this.$message.error("กรุุณาเลือกวันที่ให้ถูกต้อง")},cleanSpinning:function(){this.spinning=!1},disabledDate:function(t){return t&&t<S()().startOf("day")},OpenDialogShowMeetingPerson:function(t){var e=t.slice(1,11);this.$refs.DialogShowMeetingPerson.open(e)},getMonthNow:function(){var t=new Date;this.Month_now=t.getMonth()+1,this.Date_now=t.getDate()},getListData:function(t){if(t.date()<10)var e="0"+t.date();else e=t.date();var n,a,o=e+"-"+t.month(),s=o.substring(0,2),r=o.substring(3,5),l=Object(i["a"])(this.List_booking_user);try{for(l.s();!(a=l.n()).done;){var c=a.value;s.toString()==c.meeting_start_day.toString()&&s>="0"+this.Date_now&&r==(this.Month_now-1).toString()&&(n=[{type:"star",theme_color:"orange"}])}}catch(u){l.e(u)}finally{l.f()}return n||[]},API_GetBookingCalendarUser:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.log("API_GetBookingCalendarUser---\x3e"),console.log(t.$store.state.token_user),t.spinning=!0,e.next=5,t.axios({method:"GET",url:t.$store.state.url_get_API_axios+"api/v1/bookingTable/"+t.$store.state.email_User+"/future",headers:{Authorization:t.$store.state.token_user}}).then((function(e){t.cleanSpinning(),console.log(e);var n=e.data;"success"==n.Status?(t.List_booking_user=n.Value,console.log(t.List_booking_user)):console.log("test")})).catch((function(e){t.cleanSpinning(),console.log(e.message),"Request failed with status code 500"==e.message&&t.$message.error("ไม่พบข้อมูล")}));case 5:case"end":return e.stop()}}),e)})))()},headerRender:function(t){for(var e=t.value,n=t.onChange,a=this.$createElement,o=0,s=12,i=[],r=e.clone(),l=e.localeData(),c=[],u=0;u<12;u++)r.month(u),c.push(l.monthsShort(r));for(var d=o;d<s;d++)d<=s&&i.push(a("a-select-option",{class:"month-item",key:"".concat(d)},[c[d]]));var g=e.month();return a("div",{style:{padding:"10px"}},[a("a-row",{attrs:{type:"flex",justify:"space-around "}},[a("v-col",{attrs:{cols:"8",align:"left"},class:"mt-1"},[a("a-icon",{attrs:{type:"star",theme:"filled"},style:"color: orange;"}),a("span",{class:"ml-2"},[" หมายถึง มีการประชุม"])]),a("v-col",{attrs:{cols:"4",align:"right"}},[a("a-select",{attrs:{dropdownMatchSelectWidth:!1,value:String(g)},on:{change:function(t){var a=e.clone();a.month(parseInt(t,10)),n(a)}}},[i])])])])}}},D=b,M=(n("8ca3"),Object(g["a"])(D,a,o,!1,null,"311dfe26",null));e["default"]=M.exports;h()(M,{VCol:_["a"],VRow:f["a"]})}}]);
//# sourceMappingURL=chunk-7ef7675a.a7905a92.js.map