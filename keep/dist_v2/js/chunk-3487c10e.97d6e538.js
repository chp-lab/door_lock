(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3487c10e","chunk-392f9c9e"],{2886:function(t,e,o){t.exports=o.p+"img/Qrcode-center.6d415b37.png"},"2a59":function(t,e,o){},"35f8":function(t,e,o){t.exports=o.p+"img/test.0f1c69ad.png"},5529:function(t,e,o){"use strict";o("2a59")},"662c":function(t,e,o){"use strict";o.r(e);var a=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("a-alertุ",{attrs:{message:"เข้าพื้นที่",description:"กดปุ่มด้านล่างเพื่อสแกน QR code",type:"info","show-icon":""}}),a("a-spin",{attrs:{spinning:t.spinning}},[a("div",{staticClass:"spin-content pt-8"},[a("v-row",{staticClass:"mb-3",attrs:{align:"center",justify:"center"}},[a("v-col",{staticClass:"mt-7 pb-8",attrs:{align:"center"}},[a("v-img",{attrs:{"max-height":"280px","max-width":"280px",src:o("35f8")}},[a("v-img",{directives:[{name:"show",rawName:"v-show",value:0==this.state_qrcode,expression:"this.state_qrcode == 0"}],staticClass:"mt-8",attrs:{"max-height":"215px","max-width":"230px",src:o("2886")}}),1==this.state_qrcode?a("div",{staticClass:"position_camera"},[a("qrcode-drop-zone",{on:{decode:t.onDecode,init:t.logErrors}},[a("qrcode-stream",{attrs:{camera:t.camera},on:{decode:t.onDecode,detect:t.onDetect,init:t.onInit}})],1),t.noStreamApiSupport?a("qrcode-capture",{on:{decode:t.onDecode}}):t._e()],1):t._e()],1)],1)],1)],1)]),a("v-row",{staticClass:"mt-5 pb-8",attrs:{align:"center",justify:"center"}},[a("v-col",{attrs:{align:"center"}},[a("a-button",{staticStyle:{height:"60px"},attrs:{type:"primary",icon:"qrcode",size:"large"},on:{click:function(e){return t.Open_Change_state_qrcode()}}},[t._v(" เข้าพื้นที่ ")])],1)],1)],1)},n=[],s=(o("b0c0"),o("96cf"),o("1da1")),i={components:{},data:function(){return{spinning:!1,noStreamApiSupport:!1,state_qrcode:0,room:"",email:"",camera:"auto",result_api:{},dialog:!1,token_user:null}},created:function(){},computed:{Close_camera:function(){return"off"===this.camera}},methods:{onDecode:function(t){this.room=t,console.log(this.room),""!=this.room&&(this.spinning=!this.spinning,this.state_qrcode=0,this.API_Qrcode()),this.state_qrcode=0},API_Qrcode:function(){var t=this;this.email=this.$store.state.email_User,console.log(this.email),this.spinning=!0,null==this.room&&null==this.email?(this.$message.error("ไม่พบอีเมลและคิวอาร์โค้ด"),this.cleanSpinning()):null==this.email?(this.$message.error("ไม่พบอีเมล โปรดล็อกอินใหม่อีกครั้ง"),this.cleanSpinning()):null==this.room?(this.$message.error("ไม่พบคิวอาร์โค้ด โปรดสแกนใหม่อีกครั้ง"),this.cleanSpinning()):(this.result_api={one_email:this.email,room_num:this.room},console.log(this.result_api),console.log("db0x02",this.$store.state.token_user),this.axios({method:"POST",url:this.$store.state.url_get_API_axios+"api/v1/unlock/"+this.$store.state.token_user,data:this.result_api,headers:{Authorization:this.$store.state.token_user}}).then((function(e){t.state_qrcode,t.cleanSpinning(),t.results=e.data,console.log(e.data),"meeting room accessed"==e.data.Message?t.$success({title:"ผ่าน",content:"เชิญค่ะ",centered:!0}):"cannot access meeting room"==e.data.Message?t.$error({title:"ไม่สามารถเข้าพื้นที่ได้",content:"ลองใหม่อีกครั้งค่ะ",centered:!0}):"main door accessed"==e.data.Message?"not_open"==e.data.Value.result[0].door_action&&""==e.data.Value.result[0].covid_level?t.$error({title:"ห้ามเข้าพื้นที่",content:"สถานะของคุณคือ"+e.data.Value.help,centered:!0}):"not_open"==e.data.Value.result[0].door_action&&"red"==e.data.Value.result[0].covid_level?t.$success({title:"ห้ามเข้าพื้นที่",content:e.data.Value.help,centered:!0}):("open"==e.data.Value.result[0].door_action&&"green"==e.data.Value.result[0].covid_level||"open"==e.data.Value.result[0].door_action&&"yellow"==e.data.Value.result[0].covid_level||"open"==e.data.Value.result[0].door_action&&"orange"==e.data.Value.result[0].covid_level)&&t.$success({title:"เปิดประตูสำเร็จ",content:e.data.Value.help,centered:!0}):"cannot access main door"==e.data.Message?t.$error({title:"เปิดประตูไม่สำเร็จ",content:e.data.Value.help,centered:!0}):t.$error({title:"ไม่พบข้อมูล",content:"ไม่พบข้อมูล",centered:!0})})).catch((function(e){console.log("db0x01"),console.log(e),t.state_qrcode,t.cleanSpinning(),"Request failed with status code 401"==e.message?t.$error({title:"ไม่พบผู้ใช้งาน",centered:!0}):"Request failed with status code 404"==e.message?"room number is invalid"==e.response.data.Message?t.$error({title:"ไม่พบห้อง โปรดสแกนใหม่อีกครั้ง",centered:!0}):t.$error({title:"ไม่พบห้อง หรือผู้ใช่งาน",centered:!0}):t.$error({title:"เกิดข้อผิดพลาด โปรดลองใหม่อีกครั้ง",centered:!0})})))},cleanSpinning:function(){this.spinning=!1},logErrors:function(t){t.catch(console.error)},onDetect:function(t){return Object(s["a"])(regeneratorRuntime.mark((function e(){var o,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t;case 3:o=e.sent,a=o.imageData,console.log(a),e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))()},Open_Change_state_qrcode:function(){this.state_qrcode=1,console.log(this.state_qrcode)},onInit:function(t){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function o(){return regeneratorRuntime.wrap((function(o){while(1)switch(o.prev=o.next){case 0:return o.prev=0,o.next=3,t;case 3:o.next=8;break;case 5:o.prev=5,o.t0=o["catch"](0),"StreamApiNotSupportedError"===o.t0.name&&(e.noStreamApiSupport=!0);case 8:case"end":return o.stop()}}),o,null,[[0,5]])})))()}}},r=i,c=(o("c537"),o("2877")),l=o("6544"),u=o.n(l),d=o("62ad"),h=o("adda"),p=o("0fd9"),g=Object(c["a"])(r,a,n,!1,null,"01fe3b0c",null);e["default"]=g.exports;u()(g,{VCol:d["a"],VImg:h["a"],VRow:p["a"]})},a38d:function(t,e,o){},b5b6:function(t,e,o){},c537:function(t,e,o){"use strict";o("a38d")},c7e5:function(t,e,o){},d4ae:function(t,e,o){},d755:function(t,e,o){"use strict";o.r(e);var a=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("a-card",{},[o("v-row",{attrs:{align:"center",justify:"center"}},[o("v-col",{staticClass:"pt-3 pt-0 pb-0",attrs:{cols:"9",align:"left"}},[o("p",[t._v("ปฏิทินการประชุมของท่าน")])]),o("v-col",{staticClass:"mb-1 pt-0 pb-0",attrs:{cols:"3",align:"right"}},[o("a-icon",{attrs:{type:"snippets"}})],1)],1)],1),o("v-row",{staticClass:"pt-3 pb-1 pt-0 pb-0"},[o("v-col",{},[o("a-alert",{attrs:{type:"info","show-icon":"",description:"ท่านสามารถกดวันที่ในปฏิทิน เพื่อดูการประชุมของท่าน"}})],1)],1),o("a-spin",{attrs:{spinning:t.spinning}},[o("div",{staticClass:"spin-content"},[o("div",{staticClass:"mt-2 mb-1",staticStyle:{border:"1px solid #d9d9d9","border-radius":"4px"}},[o("a-calendar",{attrs:{fullscreen:!1,"header-render":t.headerRender,"disabled-date":t.disabledDate,format:"DD-MM-YYYY"},on:{select:t.onSelect,panelChange:t.onPanelChange},scopedSlots:t._u([{key:"dateCellRender",fn:function(e){return o("ul",{staticClass:"events"},t._l(t.getListData(e),(function(t){return o("li",{key:t.content},[o("a-icon",{style:{color:t.theme_color},attrs:{theme:"filled",type:t.type}})],1)})),0)}}])})],1)])]),o("DialogShowMeetingPerson",{ref:"DialogShowMeetingPerson"}),o("DialogAddMeeting",{ref:"DialogAddMeeting",on:{API_GetBookingCalendarUser:t.API_GetBookingCalendarUser}})],1)},n=[],s=(o("fb6a"),o("d3b7"),o("25f0"),o("96cf"),o("1da1")),i=o("b85c"),r=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("a-modal",{attrs:{title:"ข้อมูลการประชุมของท่าน",centered:""},model:{value:t.DialogShowMeetingPerson,callback:function(e){t.DialogShowMeetingPerson=e},expression:"DialogShowMeetingPerson"}},[o("a-spin",{attrs:{spinning:t.spinning}},[o("div",[o("v-row",{staticClass:"pt-3 pb-1 pt-0 pb-0"},[o("v-col",{},[o("a-alert",{attrs:{type:"success",description:this.convert_DateCendar}})],1)],1),o("a-empty",{directives:[{name:"show",rawName:"v-show",value:1==this.empty_data,expression:"this.empty_data == true"}],staticStyle:{"margin-top":"20px"}},[o("span",{attrs:{slot:"description"},slot:"description"},[t._v(" ท่านไม่มีประชุมในวันนี้ ")])]),t._l(this.data_list,(function(e){return o("v-row",{key:e,staticClass:"pt-5",attrs:{align:"center",justify:"center"}},[o("v-col",{staticClass:"pa-0"},[o("a-card",[o("a-timeline",[o("a-timeline-item",{attrs:{color:"green"}},[o("a-icon",{staticClass:"pr-5",staticStyle:{"font-size":"18px"},attrs:{slot:"dot",type:"solution"},slot:"dot"}),t._v(" "+t._s("หัวข้อประชุม : "+e.agenda)+" ")],1),o("a-timeline-item",{attrs:{color:"red"}},[o("a-icon",{staticStyle:{"font-size":"18px"},attrs:{slot:"dot",type:"calendar"},slot:"dot"}),t._v(" "+t._s(t.parseToDateFormat(e.meeting_start))+" ")],1),o("a-timeline-item",{attrs:{color:"pink"}},[o("a-icon",{staticStyle:{"font-size":"18px"},attrs:{slot:"dot",type:"bank"},slot:"dot"}),t._v(" "+t._s("ห้องประชุมที่ : "+e.room_num)+" ")],1),o("a-timeline-item",{attrs:{color:"blue"}},[o("a-icon",{staticStyle:{"font-size":"18px"},attrs:{slot:"dot",type:"clock-circle-o"},slot:"dot"}),t._v(" "+t._s(t.parseToTimeFormat(e.meeting_start,e.meeting_end))+" ")],1),o("a-timeline-item",{attrs:{color:"red"}},[o("a-icon",{staticStyle:{"font-size":"18px"},attrs:{slot:"dot",type:"team"},slot:"dot"}),o("p",[t._v("ผู้ร่วมประชุม :")]),o("div",[o("a-tag",{staticClass:"mt-2",attrs:{color:"blue"}},[t._v(" "+t._s(e.one_email)+" ")])],1),t._l(e.guest_email,(function(e){return o("div",{key:e},[o("a-tag",{staticClass:"mt-2",attrs:{color:"blue"}},[t._v(" "+t._s(e)+" ")])],1)}))],2)],1)],1)],1)],1)}))],2)]),o("template",{slot:"footer"},[o("a-button",{key:"back",attrs:{type:"primary"},on:{click:function(e){return t.closeDialogShowMeetingPerson()}}},[t._v(" ปิด ")])],1)],2),o("a-modal",{attrs:{centered:"",footer:null},model:{value:t.status_500,callback:function(e){t.status_500=e},expression:"status_500"}},[o("a-result",{attrs:{status:"500",title:"500","sub-title":"Sorry, the server is wrong."},scopedSlots:t._u([{key:"extra",fn:function(){},proxy:!0}])})],1),o("ModalStatuscode",{ref:"ModalStatuscode"})],1)},c=[],l=(o("ac1f"),o("1276"),o("03ca")),u={components:{ModalStatuscode:l["a"]},data:function(){return{DialogShowMeetingPerson:!1,convert_DateCendar:null,select_date_calender:null,spinning:!1,user_login:"",data_list:null,empty_data:!1,status_500:!1,email_user:""}},created:function(){},methods:{open:function(t){this.select_date_calender=t,console.log(t);var e=t.slice(8,10),o=t.slice(5,7),a=t.slice(0,4);this.convert_DateCendar="วันที่ "+e+"-"+o+"-"+a,this.API_ShowBookingUser(t),this.DialogShowMeetingPerson=!0},cleanSpinning:function(){this.spinning=!1},closeDialogShowMeetingPerson:function(){this.DialogShowMeetingPerson=!1},parseToDateFormat:function(t){var e=t.split(" ")[0].split("-");return"วันที่ : "+e[2]+" - "+e[1]+" - "+e[0]},parseToTimeFormat:function(t,e){var o=t.split(" ")[1].split(":")[0],a=t.split(" ")[1].split(":")[1],n=e.split(" ")[1].split(":")[0],s=e.split(" ")[1].split(":")[1];return"เวลา : "+o+":"+a+" - "+n+":"+s+" น."},API_ShowBookingUser:function(t){var e=this;this.spinning=!0,this.empty_data=!1;var o="";this.axios({method:"GET",url:this.$store.state.url_get_API_axios+"api/v1/bookingTable/"+this.$store.state.email_User+"/time/"+t,headers:{Authorization:this.$store.state.token_user}}).then((function(t){console.log(t),console.log(t.data);var o=t.data;"success"==o.Status?(e.data_list=o.Value,e.cleanSpinning(),0===o.Value.length&&(e.empty_data=!0,e.data_list=[],e.cleanSpinning())):(e.$error({centered:!0,title:"ไม่พบข้อมูล",content:"กรุณาตรวจสอบข้อมูล"}),e.cleanSpinning())})).catch((function(t){console.log(t.message),e.cleanSpinning(),"Request failed with status code 400"==t.message?e.Model_countDown_error(t.message):"Request failed with status code 401"==t.message?e.$refs.ModalStatuscode.open_dialog401():"Request failed with status code 404"==t.message?e.$refs.ModalStatuscode.open_dialog404():"Request failed with status code 500"==t.message?e.$refs.ModalStatuscode.open_dialog500():(o="error",e.Model_countDown_error(o))}))},Model_countDown_error:function(t){if("Request failed with status code 400"==t){var e=3,o=this.$error({title:"กรุณากรอกข้อมูลให้ครบถ้วน",content:"เนื่องจากกรอกข้อมูลไม่ครบถ้วน",centered:!0}),a=setInterval((function(){e-=1,o.update({content:"เนื่องจากกรอกข้อมูลไม่ครบถ้วน"})}),1e3);setTimeout((function(){clearInterval(a),o.destroy()}),1e3*e)}else{var n=3,s=this.$error({title:"เกิดข้อผิดพลาด",content:"ไม่สามารถใช้งานได้",centered:!0}),i=setInterval((function(){n-=1,s.update({content:"ไม่สามารถใช้งานได้"})}),1e3);setTimeout((function(){clearInterval(i),s.destroy()}),1e3*n)}}}},d=u,h=(o("5529"),o("2877")),p=o("6544"),g=o.n(p),f=o("62ad"),m=o("0fd9"),_=Object(h["a"])(d,r,c,!1,null,"12d5f7d4",null),v=_.exports;g()(_,{VCol:f["a"],VRow:m["a"]});var b=o("1b5b"),w=o("c1df"),y=o.n(w),S=o("2f62"),k={components:{DialogShowMeetingPerson:v,DialogAddMeeting:b["a"]},data:function(){return{format:"YYYY-MM-DD",day_event_calendar:null,user_login:"",email_user:"",List_booking_user:null,spinning:!1,Date_now:null,Month_now:null,value_test:""}},created:function(){this.getMonthNow(),this.API_GetBookingCalendarUser()},computed:Object(S["b"])(["updateschedule"]),watch:{updateschedule:function(t){console.log("watcher running")}},methods:{moment:y.a,onSelect:function(t){if(null!=t){var e=JSON.stringify(t);this.OpenDialogShowMeetingPerson(e)}else this.$message.error("กรุุณาเลือกวันที่ให้ถูกต้อง")},cleanSpinning:function(){this.spinning=!1},disabledDate:function(t){return t&&t<y()().startOf("day")},OpenDialogShowMeetingPerson:function(t){var e=t.slice(1,11);this.$refs.DialogShowMeetingPerson.open(e)},getMonthNow:function(){var t=new Date;this.Month_now=t.getMonth()+1,this.Date_now=t.getDate()},getListData:function(t){if(t.date()<10)var e="0"+t.date();else e=t.date();var o,a,n=e+"-"+t.month(),s=n.substring(0,2),r=n.substring(3,5),c=Object(i["a"])(this.List_booking_user);try{for(c.s();!(a=c.n()).done;){var l=a.value;s.toString()==l.meeting_start_day.toString()&&s>"0"+this.Date_now&&r==(this.Month_now-1).toString()&&(o=[{type:"star",theme_color:"orange"}])}}catch(u){c.e(u)}finally{c.f()}return o||[]},API_GetBookingCalendarUser:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.log("API_GetBookingCalendarUser---\x3e"),console.log(t.$store.state.token_user),t.spinning=!0,e.next=5,t.axios({method:"GET",url:t.$store.state.url_get_API_axios+"api/v1/bookingTable/"+t.$store.state.email_User+"/future",headers:{Authorization:t.$store.state.token_user}}).then((function(e){t.cleanSpinning(),console.log(e);var o=e.data;"success"==o.Status?(t.List_booking_user=o.Value,console.log(t.List_booking_user)):console.log("test")})).catch((function(e){t.cleanSpinning(),console.log(e.message),"Request failed with status code 500"==e.message&&t.$message.error("ไม่พบข้อมูล")}));case 5:case"end":return e.stop()}}),e)})))()},headerRender:function(t){var e=t.value,o=t.onChange,a=this.$createElement;this.value_test=e;for(var n=0,s=12,i=[],r=e.clone(),c=e.localeData(),l=[],u=0;u<12;u++)r.month(u),l.push(c.monthsShort(r));for(var d=n;d<s;d++)d<=s&&i.push(a("a-select-option",{class:"month-item",key:"".concat(d)},[l[d]]));var h=e.month();return a("div",{style:{padding:"10px"}},[a("a-row",{attrs:{type:"flex",justify:"space-around "}},[a("v-col",{attrs:{cols:"8",align:"left"},class:"mt-1"},[a("a-icon",{attrs:{type:"star",theme:"filled"},style:"color: orange;"}),a("span",{class:"ml-2"},[" หมายถึง มีการประชุม"])]),a("v-col",{attrs:{cols:"4",align:"right"}},[a("a-select",{attrs:{dropdownMatchSelectWidth:!1,value:String(h)},on:{change:function(t){var a=e.clone();a.month(parseInt(t,10)),o(a)}}},[i])])])])}}},$=k,M=(o("eb78"),Object(h["a"])($,a,n,!1,null,"47be6dea",null));e["default"]=M.exports;g()(M,{VCol:f["a"],VRow:m["a"]})},e912:function(t,e,o){"use strict";o("d4ae")},eb78:function(t,e,o){"use strict";o("c7e5")},f4a9:function(t,e,o){"use strict";o.r(e);var a=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"home"},[o("v-card",{staticClass:"mt-3",attrs:{flat:""}},[o("v-container",{staticClass:"pa-5"},[o("v-row",{attrs:{align:"center",justify:"center"}},[o("v-col",[o("a-tabs",{attrs:{destroyInactiveTabPane:"","default-active-key":"1"}},[o("a-tab-pane",{key:"1",attrs:{tab:"เข้าพื้นที่"}},[o("JoinCalendarMeeting",{ref:"JoinCalendarMeeting",attrs:{onechat_token:t.parameters_onechat_token}})],1),o("a-tab-pane",{key:"2",attrs:{tab:"จองห้องประชุม"}},[o("CalendarMeeting",{ref:"CalendarMeeting",on:{testnon:function(e){return t.test()}}})],1),o("a-tab-pane",{key:"3",attrs:{tab:"ตารางปฏิทินประชุม"}},[o("SchedulePerson",{ref:"SchedulePerson"})],1)],1)],1)],1)],1)],1),o("ModalStatuscode",{ref:"ModalStatuscode"}),o("Footer",{ref:"Footer",staticClass:"mt-3"})],1)},n=[],s=o("4d65"),i=o("d755"),r=o("662c"),c=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("v-footer",{attrs:{padless:"",height:"60px",color:"white"}},[o("v-col",{staticClass:"text-center",attrs:{cols:"12","background-color":"white"}},[o("br"),t._v(" "+t._s((new Date).getFullYear())+" — "),o("strong",[t._v("IoT Hatyai")])])],1)},l=[],u={data:function(){return{}},created:function(){},methods:{}},d=u,h=o("2877"),p=o("6544"),g=o.n(p),f=o("62ad"),m=(o("a9e3"),o("c7cd"),o("5530")),_=(o("b5b6"),o("8dd9")),v=o("3a66"),b=o("d10f"),w=o("58df"),y=o("80d2"),S=Object(w["a"])(_["a"],Object(v["a"])("footer",["height","inset"]),b["a"]).extend({name:"v-footer",props:{height:{default:"auto",type:[Number,String]},inset:Boolean,padless:Boolean,tag:{type:String,default:"footer"}},computed:{applicationProperty:function(){return this.inset?"insetFooter":"footer"},classes:function(){return Object(m["a"])(Object(m["a"])({},_["a"].options.computed.classes.call(this)),{},{"v-footer--absolute":this.absolute,"v-footer--fixed":!this.absolute&&(this.app||this.fixed),"v-footer--padless":this.padless,"v-footer--inset":this.inset})},computedBottom:function(){if(this.isPositioned)return this.app?this.$vuetify.application.bottom:0},computedLeft:function(){if(this.isPositioned)return this.app&&this.inset?this.$vuetify.application.left:0},computedRight:function(){if(this.isPositioned)return this.app&&this.inset?this.$vuetify.application.right:0},isPositioned:function(){return Boolean(this.absolute||this.fixed||this.app)},styles:function(){var t=parseInt(this.height);return Object(m["a"])(Object(m["a"])({},_["a"].options.computed.styles.call(this)),{},{height:isNaN(t)?t:Object(y["f"])(t),left:Object(y["f"])(this.computedLeft),right:Object(y["f"])(this.computedRight),bottom:Object(y["f"])(this.computedBottom)})}},methods:{updateApplication:function(){var t=parseInt(this.height);return isNaN(t)?this.$el?this.$el.clientHeight:0:t}},render:function(t){var e=this.setBackgroundColor(this.color,{staticClass:"v-footer",class:this.classes,style:this.styles});return t(this.tag,e,this.$slots.default)}}),k=Object(h["a"])(d,c,l,!1,null,null,null),$=k.exports;g()(k,{VCol:f["a"],VFooter:S});var M=o("03ca"),x={name:"HomePage",components:{CalendarMeeting:s["default"],SchedulePerson:i["default"],JoinCalendarMeeting:r["default"],Footer:$,ModalStatuscode:M["a"]},data:function(){return{loading:!1,parameters_onechat_token:null}},mounted:function(){var t=this.$route.query;this.parameters_onechat_token=t.onechat_token,this.API_GetUserLogin()},computed:{},created:function(){},methods:{API_GetUserLogin:function(){var t=this,e="";this.$store.commit("getToken",this.parameters_onechat_token),console.log("--parameters_onechat_token--",this.parameters_onechat_token),console.log(this.$store.state.url_get_API_axios+"api/v1/getProfile/"+this.parameters_onechat_token),this.axios({method:"GET",url:this.$store.state.url_get_API_axios+"api/v1/getProfile/"+this.parameters_onechat_token,headers:{Authorization:this.parameters_onechat_token}}).then((function(e){console.log("API_GetUserLogin------\x3e",e.data);var o=e.data;if(t.$store.commit("getRoleUser",o.Value.role),t.$store.commit("getEmail",o.Value.email),t.$store.commit("getNickname",o.Value.nickname),t.$store.commit("getProfile",o.Value.profilepicture),"success"==e.data.Status)console.log(e);else{var a="ไม่พบข้อมูล";t.Model_countDown_error(a)}})).catch((function(o){console.log(o.response.data),"Request failed with status code 400"==o.message?(e="Request failed with status code 400",t.Model_countDown_error(e)):"Request failed with status code 401"==o.message?"token invalid"==o.response.data.Message?(e="fail",t.Model_countDown_error(e)):t.$refs.ModalStatuscode.open_dialog401():"Request failed with status code 404"==o.message?t.$refs.ModalStatuscode.open_dialog404():"Request failed with status code 500"==o.message?t.$refs.ModalStatuscode.open_dialog500():(e="error",t.Model_countDown_error(e))}))},Model_countDown_error:function(t){if("fail"==t){var e=3,o=this.$error({title:"ไม่พบผู้ใช้นี้",content:"โปรดล็อกอินอีกครั้ง",centered:!0}),a=setInterval((function(){e-=1,o.update({content:"โปรดล็อกอินอีกครั้ง"})}),1e3);setTimeout((function(){clearInterval(a),o.destroy()}),1e3*e)}else if("Request failed with status code 400"==t){var n=3,s=this.$error({title:"กรุณากรอกข้อมูลให้ครบถ้วน",content:"เนื่องจากกรอกข้อมูลไม่ครบถ้วน",centered:!0}),i=setInterval((function(){n-=1,s.update({content:"เนื่องจากกรอกข้อมูลไม่ครบถ้วน"})}),1e3);setTimeout((function(){clearInterval(i),s.destroy()}),1e3*n)}else{var r=3,c=this.$error({title:"เกิดข้อผิดพลาด",content:"ไม่สามารถใช้งานได้",centered:!0}),l=setInterval((function(){r-=1,c.update({content:"ไม่สามารถใช้งานได้"})}),1e3);setTimeout((function(){clearInterval(l),c.destroy()}),1e3*r)}}}},C=x,D=(o("e912"),o("b0af")),P=o("a523"),I=o("0fd9"),V=Object(h["a"])(C,a,n,!1,null,"42af48f6",null);e["default"]=V.exports;g()(V,{VCard:D["a"],VCol:f["a"],VContainer:P["a"],VRow:I["a"]})}}]);
//# sourceMappingURL=chunk-3487c10e.97d6e538.js.map